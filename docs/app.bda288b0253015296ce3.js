!function(t){function e(e){for(var r,a,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={0:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([115,1]),n()}({109:function(t,e,n){},112:function(t,e,n){},113:function(t,e,n){var r={"./":30,"./gear.svg":114,"./index":30,"./index.js":30};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=113},114:function(t,e,n){"use strict";n.r(e);var r=n(71),i=n.n(r),o=n(72),a=n.n(o),s=new i.a({id:"icon-gear",use:"icon-gear-usage",viewBox:"0 0 5.2210878 5.2237729",content:'<symbol viewBox="0 0 5.2210878 5.2237729" xmlns="http://www.w3.org/2000/svg" id="icon-gear">\n    <defs>\n        <linearGradient id="icon-gear_grad1" x1="0%" y1="0%" x2="100%" y2="0%">\n            <stop offset="0%" style="stop-color:rgb(158,158,158);stop-opacity:1" />\n            <stop offset="100%" style="stop-color:rgb(148,148,148);stop-opacity:1" />\n        </linearGradient>\n    </defs>\n    <g transform="translate(-3.4970818,2.4440807)">\n        <path d="M 198.26367 13.583984 C 193.85885 13.642956 187.49513 14.691729 178.39648 17.054688 C 113.69503 33.857966 202.08725 41.363161 143.93945 74.339844 C 85.791671 107.31654 124.72326 27.605196 77.091797 74.507812 C 29.460325 121.41078 109.76365 83.711211 75.894531 141.34375 C 42.025391 198.9763 35.884589 110.47737 18.085938 174.91211 C 0.28726848 239.34685 50.984009 166.54872 50.46875 233.39453 C 49.9535 300.24035 0.38422192 226.66769 17.1875 291.36914 C 33.990778 356.07059 41.495974 267.67642 74.472656 325.82422 C 107.44934 383.972 27.73801 345.04236 74.640625 392.67383 C 121.54359 440.30528 83.844013 360.00197 141.47656 393.87109 C 199.10909 427.74022 110.61019 433.87908 175.04492 451.67773 C 239.47966 469.4764 166.68154 418.78163 233.52734 419.29688 C 300.37316 419.81167 226.80047 469.3814 291.50195 452.57812 C 356.20341 435.77483 267.80923 428.26966 325.95703 395.29297 C 384.10483 362.31628 345.17518 442.02779 392.80664 395.125 C 440.43809 348.22221 360.13478 385.9216 394.00391 328.28906 C 427.87303 270.65651 434.01189 359.15544 451.81055 294.7207 C 469.60921 230.28595 418.91639 303.0841 419.43164 236.23828 C 419.94734 169.39247 469.51226 242.96513 452.70898 178.26367 C 435.9057 113.56221 428.40247 201.95444 395.42578 143.80664 C 362.4491 85.65885 442.1606 124.59044 395.25781 76.958984 C 348.35503 29.327512 386.05246 109.63085 328.41992 75.761719 C 270.78738 41.892596 359.28824 35.75373 294.85352 17.955078 C 290.82629 16.842678 287.33312 15.997405 284.31055 15.390625 C 238.9711 6.2926153 299.03904 50.817032 236.37109 50.333984 C 178.92545 49.890805 225.18205 13.223602 198.26367 13.583984 z M 238.04883 114.85742 A 119.99998 119.99998 0 0 1 258.39258 117.12891 A 119.99998 119.99998 0 0 1 352.63672 258.26172 A 119.99998 119.99998 0 0 1 246.94922 354.09766 L 246.94922 370.13867 L 222.94922 370.13867 L 222.94922 354.09961 A 119.99998 119.99998 0 0 1 211.50391 352.50391 A 119.99998 119.99998 0 0 1 117.26172 211.37109 A 119.99998 119.99998 0 0 1 238.04883 114.85742 z " transform="matrix(0.01111111,0,0,0.01111111,3.4970816,-2.4440807)" fill="url(#icon-gear_grad1)" />\n    </g>\n</symbol>'});a.a.add(s);e.default=s},115:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(13),u=n.n(s),c=n(15),l=n.n(c),d=n(16),p=n.n(d),h=n(17),f=n.n(h),v=n(68),y=n.n(v),g=n(22),m=(n(98),n(99),n(103),n(42),n(66),n(29),function(){function t(e){var n=e.rotors,r=void 0===n?[]:n,o=e.patches,a=void 0===o?[]:o;i()(this,t),this.rotors=r,this.patches=a}return a()(t,[{key:"reset",value:function(){this.rotors.forEach(function(t){t.reset()})}},{key:"encode",value:function(t){var e=this;return this.reset(),Array.from(t).map(function(t){return e.encodeChar(t)}).join("")}},{key:"encodeChar",value:function(t){return this.rotors.reduce(function(t,e){return e.encode(t)},this.patchboard(t))}},{key:"decode",value:function(t){var e=this;return this.reset(),Array.from(t).map(function(t){return e.decodeChar(t)}).join("")}},{key:"decodeChar",value:function(t){return this.patchboard(this.rotors.reduce(function(t,e){return e.decode(t)},t))}},{key:"patchboard",value:function(t){var e=this.patches.find(function(e){return[e.entry,e.exit].includes(t)});return e?e.route(t):t}}]),t}()),b=(n(105),n(55),n(69)),C=n.n(b),x=(n(109),function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return p()(e,t),a()(e,[{key:"connectedCallback",value:function(){var t=this;Array.from(this.querySelectorAll(".js-slider")).forEach(function(e){e.value=t.rotor[e.name],t.updateLabel(e),e.addEventListener("change",function(e){var n=e.target;t.rotor[n.name]=Number(n.value),t.updateLabel(n)})})}},{key:"updateLabel",value:function(t){this.querySelector("[slider=".concat(t.name,"]")).textContent=t.value,this.updateGear()}},{key:"updateGear",value:function(){this.style.setProperty("--start","".concat(270*this.sliderScale("start"),"deg")),this.style.setProperty("--ratio",Math.sqrt(.9*this.sliderScale("ratio")+.1))}},{key:"sliderScale",value:function(t){var e=this.querySelector(".js-slider[name=".concat(t,"]"));return(e.value-e.min)/(e.max-e.min)}}]),e}(g.a));f()(x,"tag","enigma-rotor"),f()(x,"html",C.a);var w,k,j,O=x.wrapped(),S=(n(110),Array.apply(null,Array("z".charCodeAt(0))).map(function(t,e){return String.fromCharCode(e)}).filter(function(t){return t.match(/[\w]+/g)}).concat([" "])),A=function(){function t(e){var n=e.ratio,r=void 0===n?1:n,o=e.start,a=void 0===o?0:o;i()(this,t),this.ratio=r,this.start=a}return a()(t,[{key:"reset",value:function(){this.position=this.start}},{key:"encode",value:function(t){var e=this.getIndex(t)+Math.round(this.position);return this.step(),this.getCharacter(e)}},{key:"decode",value:function(t){var e=this.getIndex(t)-Math.round(this.position);return this.step(),this.getCharacter(e)}},{key:"step",value:function(){this.position+=this.ratio}},{key:"getIndex",value:function(t){var e=S.indexOf(t);if(-1===e)throw new Error("Invalid character detected: ".concat(t));return e}},{key:"getCharacter",value:function(t){return S[(t+S.length)%S.length]}}]),t}(),L=function(){function t(e){var n=e.entry,r=e.exit;i()(this,t),this.entry=n,this.exit=r}return a()(t,[{key:"route",value:function(t){switch(t){case this.entry:return this.exit;case this.exit:return this.entry;default:return t}}}]),t}(),M=n(70),q=n.n(M),E=(n(112),n(30),13);(j=k=function(t){function e(){return i()(this,e),u()(this,l()(e).apply(this,arguments))}return p()(e,t),a()(e,[{key:"connectedCallback",value:function(){var t=this;this.querySelector(".js-rotors").appendChild(this.machine.rotors.reduce(function(t,e){return t.appendChild(new O({rotor:e})),t},document.createDocumentFragment())),this.addEventListener("keyup",function(e){e.keyCode===E&&t.trigger.click()}),this.input.addEventListener("keyup",function(e){var n=e.target;t.trigger.toggleAttribute("disabled",0===n.value.length)}),this.trigger.addEventListener("click",function(){var e=t.settings,n=e.mode,r=e.input;t.querySelector(".js-output").textContent=t.machine[n](r)})}},{key:"machine",get:function(){return new m({rotors:[new A({ratio:2.25,start:3}),new A({ratio:3.1,start:1}),new A({ratio:4.737,start:4})],patches:[new L({entry:"a",exit:"f"}),new L({entry:"j",exit:"d"}),new L({entry:"g",exit:"s"}),new L({entry:"w",exit:"q"})]})}},{key:"settings",get:function(){return{input:this.input.value,mode:this.querySelector(".js-mode").checked?"decode":"encode"}}},{key:"input",get:function(){return this.querySelector(".js-input")}},{key:"trigger",get:function(){return this.querySelector(".js-submit")}}]),e}(g.a),f()(k,"tag","enigma-app"),f()(k,"html",q.a),w=j,y()(w.prototype,"machine",[g.b],Object.getOwnPropertyDescriptor(w.prototype,"machine"),w.prototype),w).wrapped()},30:function(t,e,n){"use strict";n.r(e);n(29),n(39);var r=n(113);r.keys().map(r)},69:function(t,e){t.exports='<div class=gear-box> <svg class=gear> <use xlink:href=#icon-gear></use> </svg> </div> <div class=settings> <div class=control-row> <span class=slider-label>Ratio</span> <input type=range min=1 max=5 step=0.1 class="js-slider slider-input" name=ratio> <span class=slider-value slider=ratio></span> </div> <div class=control-row> <span class=slider-label>Offset</span> <input type=range min=0 max=10 step=1 class="js-slider slider-input" name=start> <span class=slider-value slider=start></span> </div> </div> '},70:function(t,e){t.exports='<div class=section-wrapper> <h3>Input</h3> <div class=controls> <div class=control-section> <input name=input type=text class="text-input js-input" placeholder=Message> <label class=mode-toggle> <input type=checkbox name=mode class=js-mode /> <div> <span class=on>Decode</span> <span class=off>Encode</span> </div> <i></i> </label> <button class="submit-trigger js-submit" disabled=disabled>Submit</button> </div> <details class="js-rotors control-section"> <summary><h4 class=box-heading>Rotors</h4></summary> </details> </div> </div> <div class=section-wrapper> <h3>Output</h3> <div class=index-card> <p class="index-content js-output"></p> </div> </div> '}});