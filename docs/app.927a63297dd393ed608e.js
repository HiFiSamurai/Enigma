!function(t){function e(e){for(var n,a,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)a=s[d],o[a]&&p.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={0:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([122,1]),r()}({118:function(t,e,r){},119:function(t,e,r){},120:function(t,e,r){var n={"./":36,"./gear.svg":121,"./index":36,"./index.js":36};function o(t){var e=i(t);return r(e)}function i(t){var e=n[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=120},121:function(t,e,r){"use strict";r.r(e);var n=r(77),o=r.n(n),i=r(78),a=r.n(i),s=new o.a({id:"icon-gear",use:"icon-gear-usage",viewBox:"0 0 5.2210878 5.2237729",content:'<symbol viewBox="0 0 5.2210878 5.2237729" xmlns="http://www.w3.org/2000/svg" id="icon-gear">\n    <defs>\n        <linearGradient id="icon-gear_grad1" x1="0%" y1="0%" x2="100%" y2="0%">\n            <stop offset="0%" style="stop-color:rgb(158,158,158);stop-opacity:1" />\n            <stop offset="100%" style="stop-color:rgb(148,148,148);stop-opacity:1" />\n        </linearGradient>\n    </defs>\n    <g transform="translate(-3.4970818,2.4440807)">\n        <path d="M 198.26367 13.583984 C 193.85885 13.642956 187.49513 14.691729 178.39648 17.054688 C 113.69503 33.857966 202.08725 41.363161 143.93945 74.339844 C 85.791671 107.31654 124.72326 27.605196 77.091797 74.507812 C 29.460325 121.41078 109.76365 83.711211 75.894531 141.34375 C 42.025391 198.9763 35.884589 110.47737 18.085938 174.91211 C 0.28726848 239.34685 50.984009 166.54872 50.46875 233.39453 C 49.9535 300.24035 0.38422192 226.66769 17.1875 291.36914 C 33.990778 356.07059 41.495974 267.67642 74.472656 325.82422 C 107.44934 383.972 27.73801 345.04236 74.640625 392.67383 C 121.54359 440.30528 83.844013 360.00197 141.47656 393.87109 C 199.10909 427.74022 110.61019 433.87908 175.04492 451.67773 C 239.47966 469.4764 166.68154 418.78163 233.52734 419.29688 C 300.37316 419.81167 226.80047 469.3814 291.50195 452.57812 C 356.20341 435.77483 267.80923 428.26966 325.95703 395.29297 C 384.10483 362.31628 345.17518 442.02779 392.80664 395.125 C 440.43809 348.22221 360.13478 385.9216 394.00391 328.28906 C 427.87303 270.65651 434.01189 359.15544 451.81055 294.7207 C 469.60921 230.28595 418.91639 303.0841 419.43164 236.23828 C 419.94734 169.39247 469.51226 242.96513 452.70898 178.26367 C 435.9057 113.56221 428.40247 201.95444 395.42578 143.80664 C 362.4491 85.65885 442.1606 124.59044 395.25781 76.958984 C 348.35503 29.327512 386.05246 109.63085 328.41992 75.761719 C 270.78738 41.892596 359.28824 35.75373 294.85352 17.955078 C 290.82629 16.842678 287.33312 15.997405 284.31055 15.390625 C 238.9711 6.2926153 299.03904 50.817032 236.37109 50.333984 C 178.92545 49.890805 225.18205 13.223602 198.26367 13.583984 z M 238.04883 114.85742 A 119.99998 119.99998 0 0 1 258.39258 117.12891 A 119.99998 119.99998 0 0 1 352.63672 258.26172 A 119.99998 119.99998 0 0 1 246.94922 354.09766 L 246.94922 370.13867 L 222.94922 370.13867 L 222.94922 354.09961 A 119.99998 119.99998 0 0 1 211.50391 352.50391 A 119.99998 119.99998 0 0 1 117.26172 211.37109 A 119.99998 119.99998 0 0 1 238.04883 114.85742 z " transform="matrix(0.01111111,0,0,0.01111111,3.4970816,-2.4440807)" fill="url(#icon-gear_grad1)" />\n    </g>\n</symbol>'});a.a.add(s);e.default=s},122:function(t,e,r){"use strict";r.r(e);r(79),r(80),r(81),r(26);var n=r(5),o=r.n(n),i=r(6),a=r.n(i),s=r(13),c=r.n(s),u=r(17),l=r.n(u),d=r(18),p=r.n(d),h=r(19),f=r.n(h),v=r(74),y=r.n(v),g=r(28),m=(r(107),r(108),r(112),r(48),r(72),function(){function t(e){var r=e.rotors,n=void 0===r?[]:r,i=e.patches,a=void 0===i?[]:i;o()(this,t),this.rotors=n,this.patches=a}return a()(t,[{key:"reset",value:function(){this.rotors.forEach(function(t){t.reset()})}},{key:"encode",value:function(t){var e=this;return this.reset(),Array.from(t).map(function(t){return e.encodeChar(t)}).join("")}},{key:"encodeChar",value:function(t){var e=this.rotors.reduce(function(t,e){return e.encode(t)},t);return e=this.patchboard(e),this.rotors.reverse().reduce(function(t,e){return e.encode(t)},e)}},{key:"decode",value:function(t){var e=this;return this.reset(),Array.from(t).map(function(t){return e.decodeChar(t)}).join("")}},{key:"decodeChar",value:function(t){var e=this.rotors.reduce(function(t,e){return e.decode(t)},t);return e=this.patchboard(e),this.rotors.reverse().reduce(function(t,e){return e.decode(t)},e)}},{key:"patchboard",value:function(t){var e=this.patches.find(function(e){return[e.entry,e.exit].includes(t)});return e?e.route(t):t}},{key:"settings",get:function(){return{rotors:this.rotors.map(function(t){return t.settings}),patches:this.patches.map(function(t){return t.settings})}}}]),t}()),b=(r(114),Array.apply(null,Array("z".charCodeAt(0))).map(function(t,e){return String.fromCharCode(e)}).filter(function(t){return t.match(/[\w]+/g)}).concat([" "])),C=function(){function t(e){var r=e.ratio,n=void 0===r?1:r,i=e.start,a=void 0===i?0:i;o()(this,t),this.ratio=n,this.start=a}return a()(t,[{key:"reset",value:function(){this.position=this.start}},{key:"encode",value:function(t){this.step();var e=this.getIndex(t)+Math.round(this.position);return this.getCharacter(e)}},{key:"decode",value:function(t){this.step();var e=this.getIndex(t)-Math.round(this.position);return this.getCharacter(e)}},{key:"step",value:function(){this.position=(this.position+this.ratio)%b.length}},{key:"getIndex",value:function(t){var e=b.indexOf(t);if(-1===e)throw new Error("Invalid character detected: ".concat(t));return e}},{key:"getCharacter",value:function(t){return b[(t+b.length)%b.length]}},{key:"settings",get:function(){return{ratio:this.ratio,start:this.start}}}]),t}(),k=(r(115),r(62),r(75)),w=r.n(k),x=(r(118),function(t){function e(){return o()(this,e),c()(this,l()(e).apply(this,arguments))}return p()(e,t),a()(e,[{key:"connectedCallback",value:function(){var t=this;Array.from(this.querySelectorAll(".js-slider")).forEach(function(e){e.value=t.rotor[e.name],t.updateLabel(e),e.addEventListener("change",function(e){var r=e.target;t.rotor[r.name]=Number(r.value),t.updateLabel(r)})})}},{key:"updateLabel",value:function(t){this.querySelector("[slider=".concat(t.name,"]")).textContent=t.value,this.updateGear()}},{key:"updateGear",value:function(){this.style.setProperty("--start","".concat(270*this.sliderScale("start"),"deg")),this.style.setProperty("--ratio",Math.sqrt(.9*this.sliderScale("ratio")+.1))}},{key:"sliderScale",value:function(t){var e=this.querySelector(".js-slider[name=".concat(t,"]"));return(e.value-e.min)/(e.max-e.min)}}]),e}(g.a));f()(x,"tag","enigma-rotor"),f()(x,"html",w.a);var j,S,O,A=x.wrapped(),L=r(76),E=r.n(L),M=(r(119),r(36),13);(O=S=function(t){function e(){return o()(this,e),c()(this,l()(e).apply(this,arguments))}return p()(e,t),a()(e,[{key:"connectedCallback",value:function(){var t=this,e=document.createDocumentFragment(),r=!0,n=!1,o=void 0;try{for(var i,a=this.machine.rotors[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;e.appendChild(new A({rotor:s}))}}catch(t){n=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}this.querySelector(".js-rotors").appendChild(e),this.querySelector(".js-settings").addEventListener("change",function(){t.hash=t.machine.settings}),this.input.addEventListener("keypress",function(e){e.keyCode===M&&(t.mode.click(),e.preventDefault())}),this.input.addEventListener("keyup",function(){t.clear.toggleAttribute("disabled",0===t.input.value.length)}),this.clear.addEventListener("click",function(){t.input.value="",t.clear.toggleAttribute("disabled",!0)}),this.mode.addEventListener("change",function(){var e=t.settings,r=e.mode,n=e.input;t.input.value=t.machine[r](n)})}},{key:"machine",get:function(){return new m({rotors:this.hash.rotors.map(function(t){return new C(t)})})}},{key:"settings",get:function(){return{input:this.input.value,mode:this.querySelector(".js-mode").checked?"decode":"encode"}}},{key:"input",get:function(){return this.querySelector(".js-input")}},{key:"mode",get:function(){return this.querySelector(".js-mode")}},{key:"clear",get:function(){return this.querySelector(".js-clear")}},{key:"hash",get:function(){try{return{rotors:JSON.parse(atob(window.location.hash.replace(/^#/,""))).r.map(function(t){return{ratio:t.r,start:t.s}})}}catch(t){return{rotors:[{ratio:2.25,start:3},{ratio:3.1,start:1},{ratio:4.737,start:4}]}}},set:function(t){var e={r:t.rotors.map(function(t){return{r:t.ratio,s:t.start}})};window.location.hash="#".concat(btoa(JSON.stringify(e)))}}]),e}(g.a),f()(S,"tag","enigma-app"),f()(S,"html",E.a),j=O,y()(j.prototype,"machine",[g.b],Object.getOwnPropertyDescriptor(j.prototype,"machine"),j.prototype),j).wrapped()},36:function(t,e,r){"use strict";r.r(e);r(26),r(46);var n=r(120);n.keys().map(n)},75:function(t,e){t.exports='<div class=gear-box> <svg class=gear> <use xlink:href=#icon-gear></use> </svg> </div> <div class=settings> <div class=control-row> <span class=slider-label>Ratio</span> <input type=range min=1 max=5 step=0.1 class="js-slider slider-input" name=ratio> <span class=slider-value slider=ratio></span> </div> <div class=control-row> <span class=slider-label>Offset</span> <input type=range min=0 max=10 step=1 class="js-slider slider-input" name=start> <span class=slider-value slider=start></span> </div> </div> '},76:function(t,e){t.exports='<div class=section-wrapper> <h3>Input</h3> <div class=controls> <div class=control-section> <textarea name=input class="text-input index-card js-input" placeholder=Message rows=10></textarea> <div class=trigger-box> <label class=mode-toggle> <input type=checkbox name=mode class=js-mode /> <div> <span class=on>Decode</span> <span class=off>Encode</span> </div> <i></i> </label> <button class="trigger js-clear" disabled=disabled>Clear</button> </div> </div> <div class="js-settings control-section"> <details class="js-rotors details-dropdown" open> <summary><h4 class=box-heading>Rotors</h4></summary> </details> </div> </div> </div> '}});